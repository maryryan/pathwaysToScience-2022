<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>STEM Meets Storytelling: Day 4</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr.Â Mary Ryan" />
    <meta name="date" content="2022-07-20" />
    <script src="PTS-2022-day4-slides_files/header-attrs/header-attrs.js"></script>
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"xc21b2c518c948b38d2a9b96d6221069","expires":1}</script>
    <script src="PTS-2022-day4-slides_files/himalaya/himalaya.js"></script>
    <script src="PTS-2022-day4-slides_files/js-cookie/js.cookie.js"></script>
    <link href="PTS-2022-day4-slides_files/editable/editable.css" rel="stylesheet" />
    <script src="PTS-2022-day4-slides_files/editable/editable.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">














background-image: linear-gradient(to bottom, rgba(255,255,255,0)0%, rgba(255,255,255,0.2)10%, rgba(255,255,255,1)100%), url("https://ysm-res.cloudinary.com/image/upload/w_850/c_scale,e_blur:1700,u_v1:websites4:live-prod:ysph:about-school-of-public-health:communications-public-relations:photo-galleries:history:Yale-resized_74630_49441_v9,w_850,h_576/v1/websites4/live-prod/ysph/about-school-of-public-health/communications-public-relations/photo-galleries/history/Yale-resized_74630_49441_v9.JPG")
background-size: cover


class: bottom

.pull-left[

&lt;br&gt;
# STEM Meets Storytelling: Day 4
### Pathways to Science 2022

]

.right[

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
### Dr. Mary Ryan
### July 21, 2022

]

---

## One thing to learn today

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
.center[
### It is easier for people to read bar charts than pie graphs because it is easier to compare lengths of bars than areas of pie slices
]

---

## Review: coding

- We use `summarize()` to put functions inside to summarize specific variables


```r
mpg %&gt;% 
  summarize( number_observations=n(), min_hwy=min(hwy), max_hwy=max(hwy), mean_hwy=mean(hwy))
```

```
## # A tibble: 1 x 4
##   number_observations min_hwy max_hwy mean_hwy
##                 &lt;int&gt;   &lt;int&gt;   &lt;int&gt;    &lt;dbl&gt;
## 1                 234      12      44     23.4
```

---

## Review: coding

- We use `group_by()` before `summarize()` to find summary measures for each group in a variable


```r
mpg %&gt;% 
  group_by(class) %&gt;% 
  summarize( number_observations=n(), min_hwy=min(hwy), max_hwy=max(hwy), mean_hwy=mean(hwy))
```

```
## # A tibble: 7 x 5
##   class      number_observations min_hwy max_hwy mean_hwy
##   &lt;chr&gt;                    &lt;int&gt;   &lt;int&gt;   &lt;int&gt;    &lt;dbl&gt;
## 1 2seater                      5      23      26     24.8
## 2 compact                     47      23      44     28.3
## 3 midsize                     41      23      32     27.3
## 4 minivan                     11      17      24     22.4
## 5 pickup                      33      12      22     16.9
## 6 subcompact                  35      20      44     28.1
## 7 suv                         62      12      27     18.1
```

---

## Getting the big picture

- Calculating summary statistics can be very helpful for getting the big picture of the entire dataset

- Are there times where you think this might be difficult to communicate to others?

.can-edit.key-graph[

]

--

- It can be confusing if we're looking at many summary statistics or comparing summary statistics between many groups

- Translating those summaries into a visualization or a graphic can help

---

## Types of data visualizations

- What types of data visualizations or graphs have you heard of?

--

- Today we'll look at:

  - Bar charts &amp; pie charts
  
  - Histograms
  
  - Line charts
  
  - Scatter plots
  
---

## Bar chart

.pull-left[
- Good for comparing counts or percentages of categorical variables

- Category names go on one axis (usually the bottom or x-axis)

- Allows you to see difference in the size/percentage of a group by comparing bar lengths
]

.pull-right[
&lt;img src="PTS-2022-day4-slides_files/figure-html/bar-1.png" width="100%" /&gt;
]

---

# Pie charts

.pull-left[
- Similar to bar chart - also used to compare percentages of one categorical variable

- No axes

- Total circle = 100%

- Each wedge/slice represents how much of a category makes up the whole
]

.pull-right[
&lt;img src="PTS-2022-day4-slides_files/figure-html/starwars pie-1.png" width="100%" /&gt;
]

---

## Pie vs bar

- Which is easier to read?

&lt;img src="PTS-2022-day4-slides_files/figure-html/compare-1.png" width="100%" /&gt;

---

## Pie vs bar

.center[
&lt;img src="https://images.squarespace-cdn.com/content/56713bf4dc5cb41142f28d1f/1450306657208-N3NFCZECC1X5Y7LKZXNS/devourThePie3.gif?content-type=image%2Fgif", width="600"/&gt;
]

---

## Scatter plot

.pull-left[
- Comparing 2 continuous variables

  - One variable on each axis
  
  - Observation values shown as points
]

.pull-right[
&lt;img src="https://fivethirtyeight.com/wp-content/uploads/2020/04/paine-jordan-0416-1.png?w=1150"/&gt;
]
---

## Line plot

.pull-left[
- Comparing how a quantitative variable changes over time

- Time on x-axis

- Quantitative variable on y-axis
]

.pull-right[
&lt;img src="https://fivethirtyeight.com/wp-content/uploads/2020/06/SAWCHIK.MLBFans.0611-1.png?w=1150"/&gt;
]

---

## Histogram

.pull-left[
- Like a bar chart, but for continuous variables

  - Each bar on a bar chart is for a specific category
  
- We cut up the continuous variable into evenly ranged groups

  - Then each bar is for that group
  
  - We can increase the range of the groups to get fewer bars or decrease the range to get more bars
  
- Good for figuring out the shape of continuous data
]

.pull-right[
&lt;img src="https://static01.nyt.com/images/2018/11/27/learning/Mothers2LN/Mothers2LN-jumbo.png?quality=90&amp;auto=webp"/&gt;
]

---

## Visualizing data in R

- The main function we use to make plots in R is `ggplot()`

- Using `ggplot()` by itself gives us the container for the chart

```r
data(mpg)

mpg %&gt;% 
  ggplot()
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-2-1.png" width="100%" /&gt;

---

## Visualizing data in R

- Then we use `aes()` inside `ggplot()` to tell it what's going to be on our axes

```r
mpg %&gt;% 
  ggplot(aes(x=as.factor(cyl)))
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-3-1.png" width="100%" /&gt;

---

## Visualizing data in R

- Then we "add" on what type of chart we'd like to do using `geom_()`

```r
mpg %&gt;% 
  ggplot(aes(x=as.factor(cyl))) +
  geom_bar() # we want a bar chart so we use geom_bar()
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-4-1.png" width="100%" /&gt;

- `geom_bar()` makes bar charts

- `geom_histogram()` makes histograms

- `geom_point()` makes scatter plots

- `geom_line()` makes line plots

---

## Visualizing data in R

- We can change the axis labels with `lab()`

```r
mpg %&gt;% 
  ggplot(aes(x=as.factor(cyl))) +
  geom_bar() +
  labs(x="Number of Cylinders",y="Number of Cars")
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-5-1.png" width="100%" /&gt;

---

## Visualizing data in R

- We can add a title with `ggtitle()`

```r
mpg %&gt;% 
  ggplot(aes(x=as.factor(cyl))) +
  geom_bar() +
  labs(x="Number of Cylinders",y="Number of Cars")+
  ggtitle("Really Neat Title")
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-6-1.png" width="100%" /&gt;

---

## Visualizing data in R

- We can also have it **fill** the bars with color using a specific variable

```r
mpg %&gt;% 
  ggplot(aes(x=as.factor(cyl), fill=as.factor(cyl))) +
  geom_bar() +
  labs(x="Number of Cylinders", y="Number of Cars")+
  ggtitle("Really Neat Title")
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-7-1.png" width="100%" /&gt;

---

## Some quirks: bar plots in R

- If you want to use an existing variable as the y-axis for a bar plot (otherwise it will just use number of observations):


```r
mpg %&gt;% 
  group_by(cyl) %&gt;% 
  summarize(mean=mean(cty)) %&gt;% 
  ggplot(aes(x=as.factor(cyl), y=mean)) +
  {{geom_bar(stat="identity")}} # this tells R you don't want it to use the number of observations as y-axis
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-8-1.png" width="100%" /&gt;

---

## Some quirks: line plots in R

- Line plots always needs something for the `group` argument

  - If your plot has multiple lines for a different category in a variable, you would set `group=variable`


```r
mpg %&gt;% 
  group_by(cyl,class) %&gt;% 
  summarize(mean=mean(cty)) %&gt;% 
  ggplot(aes(x=cyl, y=mean, group=class, color=class)) +
  geom_line()
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-9-1.png" width="100%" /&gt;

---

## Some quirks: line plots in R

- Line plots always needs something for the `group` argument

  &lt;!-- - If your plot has multiple lines for a different category in a variable, you would set `group=variable` --&gt;
  
  - If your plot only has 1 line, just set `group=1`
  

```r
mpg %&gt;% 
  group_by(cyl) %&gt;% 
  summarize(mean=mean(cty)) %&gt;% 
  ggplot(aes(x=cyl, y=mean, group=1)) +
  geom_line()
```

&lt;img src="PTS-2022-day4-slides_files/figure-html/unnamed-chunk-10-1.png" width="100%" /&gt;

---
&lt;!-- --- --&gt;

&lt;!-- ## Boxplot --&gt;

&lt;!-- .pull-left[ --&gt;
&lt;!-- - Similar to histogram - used to look at range/shape of quantitative variable --&gt;

&lt;!-- - Bottom line of box is 1st quartile --&gt;

&lt;!-- - Top line of box is 3rd quartile --&gt;

&lt;!-- - Line in middle of box is median --&gt;

&lt;!-- - "Whiskers" extend to the minimum and maximum --&gt;

&lt;!--   - Sometimes, if there are observations really far from the 1st and 3rd quartiles, the lines extend to the "outlier fence" and then dots show outlier observations --&gt;

&lt;!-- - Easy to compare a quantitative and categorical variable by making a separate box for quantitative observations in each category --&gt;
&lt;!-- ] --&gt;

&lt;!-- .pull-right[ --&gt;

&lt;!-- ] --&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "",
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
